# Задачи разработки

Конец декабря 2024: разработать модель процесса циклирования двух металлогидридных реакторов
Концепт модели: реакция в двух реакторов протекает как маятник. Клапаны блокируют потоки, чтобы зарядить. И разблокируют, чтобы разрядить

## Оставшиеся задачи

- [ ] Вывод остальных графиков
- [ ] Сохранение последнего эксперимента конфигом и подгрузка при запуске
- [ ] Можно ли добавлять комментарий на ходу?

## Задачи 4 февраля 2025
- [x] Частное логирование и вывод настроек запуска
    - [x] Название запуска
    - [x] Из какого в какой
    - [x] Итого полготило, итого отдало
    - [x] На русском параметры
    - [x] Привязка файла запуска (лог)
    - [x] Счетчик запуска в названии
        - [x] Должен знать название всех файлов в директории, если такое-же сегодняшнее добавляет_1
        - [x] По умолчанию дата, из, в, №
    - [x] Комментарий к логу

## Задачи 5 февраля 2025
- [x] Окончание эксперимента и очистка с добавлением значений в новый конфиг
    - [x] Таблица
    - [x] Создание нового конфига и бэкап старого
- [ ] Пауза включается когда процесс идет и клапан закрывается
- [x] Из баллона в
    - [x] Контроль supplyToX переменной в RunConfig
- [x] В логе итого и названия столбцов на русском

## Первостепенное
- [x] Логирование общее и частное
    - [x] Общее логирование с выбором частоты записи
        - [x] Перенести указатели в класс logdatabase
        - [x] Создай таймер в logdatabase и метод изменения частоты
    - [x] Частное логирование с выбором частоты записи
        - [x] Вывод значений из таблицы расчет конкретного запуска
- [x] Расчет пройденного объема газа для Upstream и Downstream 
    - [x] На данном этапе добавляю как обычный сенсор для Upstream и Downstream, в который помещается значение посчитанное
    - [x] Значение можно ввести (конфигурация литры и время //потом ещё объемы и т.д.//)
- [x] Связь ScalarCalc и reactorUps, reactorDws
    - [x] Добавление из ниоткуда (из баллона) - происходит по дальнему от реактора
    - [x] Отнимаение вникуда (вакуум) - не считаем
    - [x] Баллон в баллон добавление по дальнему и отнимание по ближнему


## Система моделирования процесса цикла
- [ ] Разбить цикл на стадии (параллельные)
    - [ ] Нагрев, охлаждение -> параметры?
    - [ ] Подача газа -> параметры?
    - [ ] Откачка -> параметры?
    - [ ] Сорбция и десорбция без нагрева -> параметры?
    - [ ] Нагрев в материале для сорбции -> параметры?
    - [ ] Нагрев в материале для десорбции -> параметры?
- [ ] Разработать event для рекции кллапанов на стадии

## Параметры на реакторе
- [ ] Вывод входного, внутреннего и выходного потоков (входной и выходной - плюс минус одно?)
- [ ] Внутренее время реактора 

## Влияние клапана
- [ ] Если клапан открыт и подача газа - растет пока не наберет в молях достаточное кол-во

## Причины остановки эксперимента
- [ ] Закончился баллон - условия, предотвратить?
- [ ] Материал не сорбцирует - условия?
- [ ] Материал не десорбцирует - условия?
- [ ] Нагрев меньше ожидаемого - условия?
- [ ] Нагрев больше ожидаемого - условия?
- [ ] Давление газа меньше ожидаемого - условия?
- [ ] Давление газа больше ожидаемого - условия?
- [ ] Вакуум не герметичный - условия?